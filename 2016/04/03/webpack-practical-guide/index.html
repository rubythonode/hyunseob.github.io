<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>webpack 실전 가이드 | DailyEngineering</title><link rel="stylesheet" href="/libs/spoqa-han-sans/css/SpoqaHanSans-kr.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/libs/normalize.min.css"><link rel="stylesheet" href="/libs/font-awesome-4.6.3/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="https://hyunseob.github.io/2016/04/03/webpack-practical-guide/"/>
<meta name="description" content="webpack은 모듈 번들러로, 의존성을 가진 모듈들을 다루고, 그 모듈로부터 정적인 asset을 생성한다.
– webpack 페이지 공식 설명

모듈 로더, 모듈 번들러Node.js는 CommonJS 표준이 구현되어 있으므로 별도의 라이브러리 없이도 쉽게 코드를 모듈화 할 수 있다. 그러나 브라우저에서는 이러한 CommonJS API가 지원되지 않았으">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack 실전 가이드">
<meta property="og:url" content="https://hyunseob.github.io/2016/04/03/webpack-practical-guide/index.html">
<meta property="og:site_name" content="DailyEngineering">
<meta property="og:description" content="webpack은 모듈 번들러로, 의존성을 가진 모듈들을 다루고, 그 모듈로부터 정적인 asset을 생성한다.
– webpack 페이지 공식 설명

모듈 로더, 모듈 번들러Node.js는 CommonJS 표준이 구현되어 있으므로 별도의 라이브러리 없이도 쉽게 코드를 모듈화 할 수 있다. 그러나 브라우저에서는 이러한 CommonJS API가 지원되지 않았으">
<meta property="og:image" content="https://hyunseob.github.io/images/webpack.png">
<meta property="og:updated_time" content="2017-01-17T15:37:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="webpack 실전 가이드">
<meta name="twitter:description" content="webpack은 모듈 번들러로, 의존성을 가진 모듈들을 다루고, 그 모듈로부터 정적인 asset을 생성한다.
– webpack 페이지 공식 설명

모듈 로더, 모듈 번들러Node.js는 CommonJS 표준이 구현되어 있으므로 별도의 라이브러리 없이도 쉽게 코드를 모듈화 할 수 있다. 그러나 브라우저에서는 이러한 CommonJS API가 지원되지 않았으">
<meta name="twitter:image" content="https://hyunseob.github.io/images/webpack.png">
<meta name="twitter:creator" content="@HyunSeob_"><meta property="article:author" content="https://www.facebook.com/hyunseob.lee.7"><link rel="icon" href="/images/icon.png"><link rel="alternative" href="/atom.xml" type="application/atom+xml" title="DailyEngineering"><meta name="naver-site-verification" content="3ef8fdf091c71d652b72f4fe73b191c2246127f6"><script>(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-72857127-1', 'auto');
ga('send', 'pageview');</script></head><body itemscope itemtype="https://schema.org/WebPage"><nav id="menu" class="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a href="/" title="Home" rel="home" class="menu__item__link menu__item__link--brand"><img src="/images/icon.png" alt="DailyEngineering" class="menu__item__link--brand__image"><span class="menu__item__link--brand__label">DailyEngineering</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a href="/" class="menu__item__link">Home</a></div><div class="menu__item"><a href="/about" class="menu__item__link">About</a></div><div class="menu__item"><a href="/archives" class="menu__item__link">Archives</a></div><div class="menu__item"><a href="/resume" class="menu__item__link">Resume</a></div></div></div></nav><div class="page-background"></div><div class="content-outer"><div itemscope itemtype="https://schema.org/Blog" class="content-inner"><article id="article" itemscope itemtype="https://schema.org/BlogPosting" class="article"><h1 itemprop="headline" class="article__title">webpack 실전 가이드</h1><div class="article__meta"><time datetime="2016-04-02T20:11:04.000Z" itemprop="datePublished" class="article__meta__time">2016-04-03 05:11:04</time><div class="article__meta__categories"><a href="/categories/FrontEnd/" class="article__meta__categories__item">FrontEnd</a></div></div><hr><div class="article__contents"><p><img src="/images/webpack.png" alt="webpack: module bundler"></p>
<blockquote>
<p>webpack은 <strong>모듈 번들러</strong>로, 의존성을 가진 모듈들을 다루고, 그 모듈로부터 정적인 asset을 생성한다.</p>
<p>– <em>webpack 페이지 공식 설명</em></p>
</blockquote>
<h2 id="모듈-로더-모듈-번들러"><a href="#모듈-로더-모듈-번들러" class="headerlink" title="모듈 로더, 모듈 번들러"></a>모듈 로더, 모듈 번들러</h2><p>Node.js는 <a href="http://www.commonjs.org/" target="_blank" rel="external">CommonJS</a> 표준이 구현되어 있으므로 별도의 라이브러리 없이도 쉽게 코드를 모듈화 할 수 있다. 그러나 브라우저에서는 이러한 CommonJS API가 지원되지 않았으므로 모듈화를 구현하기 어렵다.</p>
<p>브라우저에서도 모듈화를 지원하기 위해 CommonJS 혹은 <a href="https://github.com/amdjs/amdjs-api" target="_blank" rel="external">AMD</a>(Asynchronous Module Definition) 같은 스펙을 구현한 많은 라이브러리들이 있다. 그 중 대표적으로 널리 쓰이는 것으로 <a href="http://requirejs.org/" target="_blank" rel="external">RequireJS</a>를 꼽을 수 있을 것이다. RequireJS는 모듈 로더로, <code>&lt;script&gt;</code> 태그 없이도 AMD 스타일의 모듈을 구현한 스크립트를 동적으로 로드할 수 있도록 도우는 라이브러리다.</p>
<p>모듈 번들러도 이와 같이 모듈 형태로 작성된 스크립트를 브라우저에서 사용할 수 있도록 해주지만, 동적으로 불러오는 모듈 로더와는 달리, 사용하고 있는 의존성 모듈들을 빌드 과정을 통해 하나의 스크립트에 포함시키게 된다. 이렇게 의존성 모듈이 포함된 스크립트를 번들이라고 부른다.</p>
<p>혹시나 CommonJS나 AMD에 대해 처음 들어보았다면 이 <a href="http://d2.naver.com/helloworld/12864" target="_blank" rel="external">링크</a>를 참조.</p>
<h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p>이러한 기능을 하는 모듈 번들러 중 널리 사용되는 것으로는 <a href="http://browserify.org/" target="_blank" rel="external">Browserify</a>와 <a href="https://webpack.github.io/" target="_blank" rel="external">webpack</a>이 있다. 두 도구 모두 CommonJS, AMD를 지원하지만 철학이 상이하다. 이 글은 두 도구의 차이점에 대해 다루는 글은 아니므로, 어떤 부분이 다른지 구체적으로 알고 싶다면 <a href="http://blog.coderifleman.com/post/112564054684/browserify%EC%99%80-webpack" target="_blank" rel="external">Browserify와 Webpack</a>, <a href="http://blog.namangoel.com/browserify-vs-webpack-js-drama" target="_blank" rel="external">Browserify VS Webpack - JS Drama</a> 같은 글을 참고하면 도움이 될 것 같다.</p>
<p>webpack은 단순한 모듈 번들러가 아니라, npm과 조합하면 사용하기에 따라서 gulp나 grunt 같은 task runner까지 대체가능하다는 점에서 매우 다재다능한 툴이다. 물론 gulp나 grunt도 webpack용 플러그인을 제공하기 때문에 조합해서 사용하는 것 역시 가능하다.</p>
<p>이 글에서는 webpack만을 다루며, webpack의 설치부터 기본적인 CommonJS 모듈과 Stylesheet를 포함한 빌드와 babel을 이용한 ES2015 사용 + ESLint를 이용한 Linting까지 step by step으로 소개할 것이다.</p>
<h2 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello, world!"></a>Hello, world!</h2><p>먼저 webpack을 가지고 놀기 위한 놀이터 디렉토리를 만들자.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ mkdir webpack-playground &amp;&amp; cd webpack-playground</div></pre></td></tr></table></figure>
<p>webpack을 사용하기 위해서는 당연히 설치가 필요하다. npm으로 간단히 설치할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ npm install -g webpack</div></pre></td></tr></table></figure>
<p>다음과 같이 빌드된 코드를 로드할 html 코드를 작성한다.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- index.html --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>그리고 사용할 모듈을 구현한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// hello.js</span></div><div class="line"><span class="built_in">module</span>.exports = <span class="string">'Hello'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// world.js</span></div><div class="line"><span class="built_in">module</span>.exports = <span class="string">'world'</span>;</div></pre></td></tr></table></figure>
<p>다음으로 해당 모듈을 사용하는 컨트롤러를 작성한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="keyword">var</span> hello = <span class="built_in">require</span>(<span class="string">'./hello'</span>);</div><div class="line"><span class="keyword">var</span> world = <span class="built_in">require</span>(<span class="string">'./world'</span>);</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(hello + <span class="string">', '</span> + world + <span class="string">'!'</span>);</div></pre></td></tr></table></figure>
<p>마지막으로 webpack을 통해 해당 코드를 빌드한다.<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ webpack entry.js bundle.js</div></pre></td></tr></table></figure></p>
<p>그러면 현재 디렉토리 내에 <code>bundle.js</code> 파일이 생성된다. 그 상태로 <code>index.html</code> 파일을 브라우저에서 보면 <code>Hello, world!</code>가 출력된 화면을 만날 수 있다.</p>
<h2 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h2><p>webpack은 Stylesheet도 포함해 빌드 할 수 있다. 다만 사용하려면 <a href="https://github.com/webpack/style-loader" target="_blank" rel="external">style-loader</a>, <a href="https://github.com/webpack/css-loader" target="_blank" rel="external">css-loader</a> 같은 별도의 loader 플러그인을 설치해야 한다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ npm install --save style-loader css-loader</div></pre></td></tr></table></figure>
<p>그리고 간단한 스타일을 작성한다.</p>
<figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/* style.css */</span></div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">24px</span>;</div><div class="line">  <span class="attribute">color</span>: blue;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>그 다음으로는 아까 만들었던 <code>entry.js</code> 파일에 지금 작성한 스타일을 포함시킨다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'!style!css!./style.css'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> hello = <span class="built_in">require</span>(<span class="string">'./hello'</span>);</div><div class="line"><span class="keyword">var</span> world = <span class="built_in">require</span>(<span class="string">'./world'</span>);</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(hello + <span class="string">', '</span> + world + <span class="string">'!'</span>);</div></pre></td></tr></table></figure>
<p><code>require()</code> 안에 들어가는 문자열이 다소 복잡한데, 파일을 로드할 로더를 설정해줘야 하기 때문이다. 아무 설정도 하지 않으면 오류가 발생한다. 덧붙여 자바스크립트 같은 경우는 확장자를 생략할 수 있지만 그 외의 파일은 확장자를 생략하면 찾지 못한다.</p>
<p>마지막으로 다시 빌드하고 나서 브라우저에서 다시 <code>index.html</code>을 열어보면 색깔과 크기가 바뀐 걸 확인할 수 있다.</p>
<p>여기서 끝내면 살짝 아쉬우므로 서드파티 플러그인 <a href="https://github.com/jtangelder/sass-loader" target="_blank" rel="external">sass-loader</a>까지 사용해보겠다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ npm install --save node-sass sass-loader</div></pre></td></tr></table></figure>
<p>css 파일을 sass로 컨버팅한다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">// style.sass</div><div class="line">body</div><div class="line">  font-size: 24px</div><div class="line">  color: blue</div></pre></td></tr></table></figure>
<p><code>entry.js</code> 파일을 알맞게 수정한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'!style!css!sass!./style.sass'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> hello = <span class="built_in">require</span>(<span class="string">'./hello'</span>);</div><div class="line"><span class="keyword">var</span> world = <span class="built_in">require</span>(<span class="string">'./world'</span>);</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(hello + <span class="string">', '</span> + world + <span class="string">'!'</span>);</div></pre></td></tr></table></figure>
<p>빌드가 정상적으로 되었다면 다시 <code>index.html</code>을 열어 확인해보자.</p>
<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><p>그런데 매번 새로운 스타일시트가 추가될 때마다 <code>require()</code> 함수를 저렇게 복잡하게 사용하는 건 솔직히 좀 불편하다. 따라서 <code>webpack.config.js</code>라는 설정파일을 사용할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: <span class="string">'./entry.js'</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: __dirname,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.sass$/</span>, <span class="attr">loader</span>: <span class="string">'style!css!sass'</span> &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>설명하지 않아도 직관적으로 이해하기 쉬운 설정파일이지만 간단하게 설명하면, <code>entry</code> 프로퍼티로 빌드되기 전의 파일 경로를 넣어주면 되고, output에는 bundle로 만들어질 파일의 정보를 명시해주면 된다.</p>
<p>별도의 로더를 사용하면 <code>module.loaders</code> 프로퍼티에 나열해주면 된다. 각 로더는 <code>test</code>와 <code>loader</code> 프로퍼티를 가지는데 <code>test</code>는 대상이 되는 파일들이 매치될 수 있는 정규식을 넣어주고, <code>loader</code>에는 사용할 로더들의 이름을 명시해주면 된다.</p>
<p>이렇게 설정파일을 만들어주면 <code>require()</code>를 간단하게 할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="built_in">require</span>(<span class="string">'./style.sass'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> hello = <span class="built_in">require</span>(<span class="string">'./hello'</span>);</div><div class="line"><span class="keyword">var</span> world = <span class="built_in">require</span>(<span class="string">'./world'</span>);</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(hello + <span class="string">', '</span> + world + <span class="string">'!'</span>);</div></pre></td></tr></table></figure>
<p>게다가 이제 커맨드라인 명령어도 간단하게 사용할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ webpack</div></pre></td></tr></table></figure>
<h2 id="ES2015-with-babel"><a href="#ES2015-with-babel" class="headerlink" title="ES2015 with babel"></a>ES2015 with babel</h2><p>최신 ECMAScript 스펙은 구현되지 않은 브라우저가 많기 때문에 프론트엔드에서 사용하기는 어려움이 따르는데 <a href="https://babeljs.io/" target="_blank" rel="external">babel</a>은 이렇게 최신 스펙은 사용하고 싶으면서도 구형 브라우저 지원도 포기하기 싫은 사람들을 위한 컴파일러이다. ES2015 이상의 문법을 사용해서 구현된 JavaScript 파일을 구형 브라우저도 지원하는 형태로 컴파일해준다. 특히 다른 컴파일러나 언어에 비해서 ES2015의 스펙을 충실히 구현하고 있다.</p>
<p>babel은 webpack용 플러그인 <a href="https://github.com/babel/babel-loader" target="_blank" rel="external">babel-loader</a>를 제공하므로 webpack에서도 쉽게 사용할 수 있다.</p>
<p>먼저 npm을 통해 babel 관련 모듈을 설치한다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ npm install --save babel-loader babel-core babel-preset-es2015</div></pre></td></tr></table></figure>
<p>설치가 되었으면 이 babel을 빌드과정에 포함시키기 위해 <code>webpack.config.js</code>를 다음과 같이 수정한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: <span class="string">'./entry.js'</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: __dirname,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.sass$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'style!css!sass'</span></div><div class="line">      &#125;, &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'babel'</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules|bower_components)/</span>,</div><div class="line">        <span class="attr">query</span>: &#123;</div><div class="line">          <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>이제 빌드과정에 babel을 통한 컴파일 과정이 포함되게 되었다.<br>다음으로 기존의 코드를 ES2015 스타일로 수정하자.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// hello.js</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">'Hello'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// world.js</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">'world'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="keyword">import</span> <span class="string">'./style.sass'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> hello <span class="keyword">from</span> <span class="string">'./hello'</span>;</div><div class="line"><span class="keyword">import</span> world <span class="keyword">from</span> <span class="string">'./world'</span>;</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(<span class="string">`<span class="subst">$&#123;hello&#125;</span>, <span class="subst">$&#123;world&#125;</span>!`</span>);</div></pre></td></tr></table></figure>
<p>코드를 수정하고 다시 빌드해보면 빌드시간이 다소 길어졌지만 ES2015로 작성한 코드가 정상적으로 동작하는 걸 확인할 수 있을 것이다.</p>
<h2 id="Lint"><a href="#Lint" class="headerlink" title="Lint"></a>Lint</h2><p>기왕 ES2015 사용하는 거, Lint까지 제대로 해보자. Linter로는 <a href="http://eslint.org/" target="_blank" rel="external">ESLint</a>를 사용할 것이다.</p>
<p>먼저 Lint 관련 모듈을 설치한다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ npm install --save eslint eslint-loader</div></pre></td></tr></table></figure>
<p>설치가 완료되었으면 Lint를 위해서 <code>.eslintrc.js</code> 파일을 수동으로 생성한다. eslint 커맨드라인 도구를 이용해서 쉽게 생성할 수도 있지만 여기서 사용하는 코드와 다소 안 맞는 부분이 있어 그냥 새로 만드는 것을 추천한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// .eslintrc.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="string">"env"</span>: &#123;</div><div class="line">    <span class="string">"browser"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="string">"es6"</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"extends"</span>: <span class="string">"eslint:recommended"</span>,</div><div class="line">  <span class="string">"rules"</span>: &#123;</div><div class="line">    <span class="string">"indent"</span>: [</div><div class="line">      <span class="string">"error"</span>,</div><div class="line">      <span class="number">2</span></div><div class="line">    ],</div><div class="line">    <span class="string">"linebreak-style"</span>: [</div><div class="line">      <span class="string">"error"</span>,</div><div class="line">      <span class="string">"unix"</span></div><div class="line">    ],</div><div class="line">    <span class="string">"quotes"</span>: [</div><div class="line">      <span class="string">"error"</span>,</div><div class="line">      <span class="string">"single"</span></div><div class="line">    ],</div><div class="line">    <span class="string">"semi"</span>: [</div><div class="line">      <span class="string">"error"</span>,</div><div class="line">      <span class="string">"always"</span></div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="string">"parserOptions"</span>: &#123;</div><div class="line">    <span class="string">"sourceType"</span>: <span class="string">"module"</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>이해하기가 어렵진 않지만 ESLint 설정 파일에 대한 설명을 짤막하게 하자면, 기본적으로 ESLint에서 추천하는 환경설정을 확장한 설정이며, 브라우저에서 동작하므로 <code>browser</code> 프로퍼티를 <code>true</code>로 주었다. 또한 모듈을 사용하고 있기 때문에 <code>parserOptions.sourceType</code>을 <code>&#39;module&#39;</code>로 지정했다. <code>indent</code> 프로퍼티의 경우 사용하는 에디터나 환경에 따라 값을 달리 주어야 할 것이다.</p>
<p>그 다음에는 <code>webpack.config.js</code>를 수정해서 Lint를 빌드하기 전에 수행하도록 한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// webpack.config.js</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: <span class="string">'./entry.js'</span>,</div><div class="line">  <span class="attr">output</span>: &#123;</div><div class="line">    <span class="attr">path</span>: __dirname,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">preLoaders</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'eslint'</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules|bower_components)/</span></div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.sass$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'style!css!sass'</span></div><div class="line">      &#125;, &#123;</div><div class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'babel'</span>,</div><div class="line">        <span class="attr">exclude</span>: <span class="regexp">/(node_modules|bower_components)/</span>,</div><div class="line">        <span class="attr">query</span>: &#123;</div><div class="line">          <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>전에 못 보던 <code>preLoaders</code>라는 프로퍼티에 eslint 로더가 추가된 것을 볼 수 있는데, <code>preLoaders</code>는 <code>loaders</code> 전에 실행되어야 하는 로더들을 선언하는 부분이다. babel-loader는 ES2015 코드를 컴파일 할 것이기 때문에 컴파일 하기 전에 Lint를 하기 위해서 <code>preLoaders</code>에 eslint를 추가한다.</p>
<p>이제 Lint가 제대로 되고 있는지 확인하기 위해서 규칙에 어긋나는 코드를 추가한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="keyword">import</span> <span class="string">'./style.sass'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> hello <span class="keyword">from</span> <span class="string">'./hello'</span>;</div><div class="line"><span class="keyword">import</span> world <span class="keyword">from</span> <span class="string">'./world'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> foo = bar; <span class="comment">// 에러가 발생할 것이다.</span></div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(<span class="string">`<span class="subst">$&#123;hello&#125;</span>, <span class="subst">$&#123;world&#125;</span>!`</span>);</div></pre></td></tr></table></figure>
<p>그리고 다시 빌드했을 때 다음과 같이 에러가 뜬다면 Linter가 잘 동작하고 있다는 것이다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">error  &apos;foo&apos; is defined but never used  no-unused-vars</div><div class="line">error  &apos;bar&apos; is not defined             no-undef</div></pre></td></tr></table></figure>
<h2 id="외부-모듈-사용하기"><a href="#외부-모듈-사용하기" class="headerlink" title="외부 모듈 사용하기"></a>외부 모듈 사용하기</h2><p>webpack을 사용하면서 가지게 되는 장점 중 하나는 더 이상 <a href="http://bower.io/" target="_blank" rel="external">bower</a>를 통해 패키지 관리를 할 필요가 없다는 것이다. npm에 등록된 Node.js 모듈은 모두 webpack을 통해서 bundle에 포함할 수 있다.</p>
<p>여기서 사용할 외부 모듈은 <a href="underscorejs.org">underscore.js</a>다. npm을 통해 설치하면 된다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ npm install --save underscore</div></pre></td></tr></table></figure>
<p>모듈 import는 매우 간단하다. 원래 <code>require()</code>를 사용하던 것처럼 <code>import ... from ...</code> 구문을 사용하면 된다. import 한 뒤에는 잘 동작하는지 확인하기 위해서 다음과 같이 <code>random()</code> 메소드를 사용해보자.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// entry.js</span></div><div class="line"><span class="keyword">import</span> <span class="string">'./style.sass'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> hello <span class="keyword">from</span> <span class="string">'./hello'</span>;</div><div class="line"><span class="keyword">import</span> world <span class="keyword">from</span> <span class="string">'./world'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">'underscore'</span>;</div><div class="line"></div><div class="line"><span class="built_in">document</span>.write(<span class="string">`<span class="subst">$&#123;hello&#125;</span>, <span class="subst">$&#123;world&#125;</span>! `</span>);</div><div class="line"><span class="built_in">document</span>.write(<span class="string">`Random: <span class="subst">$&#123;_.random(<span class="number">0</span>, <span class="number">100</span>)&#125;</span>`</span>);</div></pre></td></tr></table></figure>
<p>다시 빌드한 뒤, 브라우저에서 실행시켜보면 새로고침 할 때마다 랜덤한 정수가 출력되는 것을 확인할 수 있다.</p>
<h2 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h2><p>사실 webpack은 <a href="https://medium.com/javascript-and-opinions/state-of-the-art-javascript-in-2016-ab67fc68eb0b#.nfo3zklcl" target="_blank" rel="external">State of the Art JavaScript in 2016</a>에서도 Build tool 부문에 선정된 바 있는 아주 핫한 도구다. 나의 경우엔 Redux를 공부하려고 했는데 Redux에서는 튜토리얼부터 모듈화를 적극적으로 활용하고 있기 때문에 webpack부터 공부하게 되었다. 직접 공부해보니 의존성 관리를 효과적으로 해결해 줄 수 있는 툴이라는 생각이 들었다. 최근에 회사에서 개발하고 있는 것도 그런 부분에서 어려움을 겪은 적이 있어서 더욱 와닿았다. 거기에 Stylesheet도 import가 가능하다니..! 다만 minimal한 Browserify와는 달리 많은 기능이 있으므로 러닝 커브가 다소 있다는 점이 아쉽지만, 그만큼 강력한 도구인 것은 분명하고 일단 배워두면 써먹을 수 있는 부분이 많을 것이라고 생각한다.</p>
<p>여기에 사용된 코드는 GitHub 레포지토리 <a href="https://github.com/hyunseob/webpack-guide" target="_blank" rel="external">webpack-guide</a>에 올라가 있으니 참고하시기 바란다.</p>
<h2 id="참고링크"><a href="#참고링크" class="headerlink" title="참고링크"></a>참고링크</h2><ul>
<li><a href="http://d2.naver.com/helloworld/0239818" target="_blank" rel="external">JavaScript 모듈화 도구, webpack</a></li>
</ul>
</div><div class="article__tags"><a href="/tags/ES2015/" class="article__tags__item">ES2015</a><a href="/tags/Tutorial/" class="article__tags__item">Tutorial</a><a href="/tags/webpack/" class="article__tags__item">webpack</a><a href="/tags/Build/" class="article__tags__item">Build</a><a href="/tags/babel/" class="article__tags__item">babel</a><a href="/tags/ESLint/" class="article__tags__item">ESLint</a></div><div itemscope itemprop="author" itemtype="https://schema.org/Person" class="article__author"><img src="/images/avatar.jpg" alt="HyunSeob" class="article__author__image"><a href="/resume" title="About HyunSeob" rel="author" class="article__author__link">HyunSeob</a><p class="article__author__desc">JavaScript 모지리</p><div class="article__author__socials"><a href="https://github.com/hyunseob" title="github" target="_blank" class="article__author__socials__item"><i class="fa fa-github"></i></a><a href="https://www.facebook.com/hyunseob.lee.7" title="facebook" target="_blank" class="article__author__socials__item"><i class="fa fa-facebook"></i></a><a href="https://www.linkedin.com/in/hyunseoblee" title="linkedin" target="_blank" class="article__author__socials__item"><i class="fa fa-linkedin"></i></a><a href="https://www.instagram.com/hyunseob_lee/" title="instagram" target="_blank" class="article__author__socials__item"><i class="fa fa-instagram"></i></a><a href="https://twitter.com/HyunSeob_" title="twitter" target="_blank" class="article__author__socials__item"><i class="fa fa-twitter"></i></a><a href="/atom.xml" title="rss" target="_blank" class="article__author__socials__item"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="HyunSeob"></div><div id="sharer" class="sharer"><div class="sharer-inner"><div class="sharer__right"><button id="sharer-facebook" class="sharer__item"><i class="fa fa-facebook-official"></i></button><button id="sharer-twitter" class="sharer__item"><i class="fa fa-twitter"></i></button><button id="sharer-pinterest" class="sharer__item"><i class="fa fa-pinterest"></i></button><button id="sharer-pocket" class="sharer__item"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><div id="disqus_thread"></div><script>(function() {
  var d = document, s = d.createElement('script');
  s.src = '//dailyengineering.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Enable JavaScript to see comments.</noscript><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2017-01-17T15:37:08.000Z"><meta itemprop="articleBody" content="

webpack은 모듈 번들러로, 의존성을 가진 모듈들을 다루고, 그 모듈로부터 정적인 asset을 생성한다.
– webpack 페이지 공식 설명

모듈 로더, 모듈 번들러Node.js는 CommonJS 표준이 구현되어 있으므로 별도의 라이브러리 없이도 쉽게 코드를 모듈화 할 수 있다. 그러나 브라우저에서는 이러한 CommonJS API가 지원되지..."><meta itemprop="url" content="https://hyunseob.github.io/2016/04/03/webpack-practical-guide/"><meta itemprop="mainEntityOfPage" content="https://hyunseob.github.io/2016/04/03/webpack-practical-guide/"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="DailyEngineering"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://hyunseob.github.io/images/icon.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="https://hyunseob.github.io/images/default.jpg"><meta itemprop="url" content="https://hyunseob.github.io/images/default.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720"></div></article><section class="related-posts"><h3>Related posts</h3><div class="related-posts__item__wrapper"><a href="/2016/09/17/lambda-anonymous-function-closure/" class="related-posts__item"><div style="background-image: url('/images/lambda-anonymous-function-closure.png')" class="related-posts__item__background"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">람다, 익명 함수, 클로저</span></a></div><div class="related-posts__item__wrapper"><a href="/2016/03/27/usage-of-sequelize-js/" class="related-posts__item"><div style="background-image: url('/images/sequelizejs.png')" class="related-posts__item__background"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Sequelize.js 다루기</span></a></div><div class="related-posts__item__wrapper"><a href="/2016/10/09/understanding-reactive-programming-and-rxjs/" class="related-posts__item"><div style="background-image: url('/images/reactivex.png')" class="related-posts__item__background"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">[번역] 반응형 프로그래밍과 RxJS 이해하기</span></a></div></section></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/2017/02/05/my-command-line-interface/">나의 커맨드라인 인터페이스</a></li><li class="recent-posts__item"><a href="/2017/01/14/typescript-generic/">TypeScript: 제네릭(Generic)</a></li><li class="recent-posts__item"><a href="/2017/01/09/solved-by-flexbox/">Flexbox 활용사례 모음: Solved by Flexbox</a></li><li class="recent-posts__item"><a href="/2016/12/10/a-look-back-on-blog-in-2016/">2016년 블로그 운영 회고</a></li><li class="recent-posts__item"><a href="/2016/12/05/book-functional-thinking/">[책] 함수형 사고</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Tag cloud</h3><div class="tag-cloud"><a href="/tags/Angular2/" style="font-size: 0.75rem;">Angular2</a> <a href="/tags/AngularJS/" style="font-size: 1.2rem;">AngularJS</a> <a href="/tags/Attitude/" style="font-size: 0.75rem;">Attitude</a> <a href="/tags/Blog/" style="font-size: 0.9rem;">Blog</a> <a href="/tags/Build/" style="font-size: 0.75rem;">Build</a> <a href="/tags/CLI/" style="font-size: 0.75rem;">CLI</a> <a href="/tags/CSS/" style="font-size: 0.75rem;">CSS</a> <a href="/tags/Closure/" style="font-size: 0.9rem;">Closure</a> <a href="/tags/CoffeeScript/" style="font-size: 0.9rem;">CoffeeScript</a> <a href="/tags/ComputerScience/" style="font-size: 0.75rem;">ComputerScience</a> <a href="/tags/DOM/" style="font-size: 0.9rem;">DOM</a> <a href="/tags/DesignPattern/" style="font-size: 0.75rem;">DesignPattern</a> <a href="/tags/Deview/" style="font-size: 0.75rem;">Deview</a> <a href="/tags/ES2015/" style="font-size: 1.2rem;">ES2015</a> <a href="/tags/ESLint/" style="font-size: 0.75rem;">ESLint</a> <a href="/tags/Electron/" style="font-size: 0.75rem;">Electron</a> <a href="/tags/Functional/" style="font-size: 0.75rem;">Functional</a> <a href="/tags/GraphQL/" style="font-size: 0.75rem;">GraphQL</a> <a href="/tags/Hexo/" style="font-size: 0.75rem;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 1.5rem;">JavaScript</a> <a href="/tags/Log/" style="font-size: 0.9rem;">Log</a> <a href="/tags/Node-js/" style="font-size: 1.05rem;">Node.js</a> <a href="/tags/ORM/" style="font-size: 0.75rem;">ORM</a> <a href="/tags/Opinion/" style="font-size: 0.75rem;">Opinion</a> <a href="/tags/Promise/" style="font-size: 0.75rem;">Promise</a> <a href="/tags/Q-js/" style="font-size: 0.75rem;">Q.js</a> <a href="/tags/React/" style="font-size: 0.75rem;">React</a> <a href="/tags/ReactiveX/" style="font-size: 0.75rem;">ReactiveX</a> <a href="/tags/RxJS/" style="font-size: 0.75rem;">RxJS</a> <a href="/tags/Sequelize-js/" style="font-size: 0.75rem;">Sequelize.js</a> <a href="/tags/Terminology/" style="font-size: 0.75rem;">Terminology</a> <a href="/tags/Testing/" style="font-size: 0.75rem;">Testing</a> <a href="/tags/Tool/" style="font-size: 0.75rem;">Tool</a> <a href="/tags/Translate/" style="font-size: 1.2rem;">Translate</a> <a href="/tags/Tutorial/" style="font-size: 1.2rem;">Tutorial</a> <a href="/tags/TypeScript/" style="font-size: 1.35rem;">TypeScript</a> <a href="/tags/babel/" style="font-size: 0.75rem;">babel</a> <a href="/tags/jQuery/" style="font-size: 1.05rem;">jQuery</a> <a href="/tags/lodash/" style="font-size: 0.9rem;">lodash</a> <a href="/tags/underscore-js/" style="font-size: 1.05rem;">underscore.js</a> <a href="/tags/webpack/" style="font-size: 0.75rem;">webpack</a></div></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ComputerScience/">ComputerScience</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/AngularJS/">AngularJS</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/Basic/">Basic</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/DesignPattern/">DesignPattern</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/ES2015/">ES2015</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/RxJS/">RxJS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/TypeScript/">TypeScript</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/lodash-underscore/">lodash/underscore</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Log/">Log</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Opinion/">Opinion</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tool/">Tool</a><span class="category-list-count">1</span></li></ul></div></div></div><p class="copyright"><small>© 2017 HyunSeob<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><!--[if lt IE 10]><script src="/js/classList.min.js"></script><![endif]--><script src="/js/index.min.js"></script></body></html>