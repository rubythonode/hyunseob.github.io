<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>Sequelize.js 다루기 | DailyEngineering</title><link rel="stylesheet" href="/libs/spoqa-han-sans/css/SpoqaHanSans-kr.css"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/libs/normalize.min.css"><link rel="stylesheet" href="/libs/font-awesome-4.6.3/css/font-awesome.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/highlights/dracula.css"><link rel="canonical" href="https://hyunseob.github.io/2016/03/27/usage-of-sequelize-js/"/>
<meta name="description" content="이 포스트에서 사용한 코드는 ES2015의 문법을 다소 사용하고 있으므로 가급적 Node.js v4(LTS) 이상의 버전을 권장한다.

Node.js는 대개 MongoDB + Mongoose 조합과 함께 사용하는 경우가 많지만 가끔 RDB의 필요성을 느끼기도 한다. 물론 DB에 연결해서 쿼리를 직접 만들어 날려도 되지만, ORM을 사용하면 수 배 이상의 생">
<meta property="og:type" content="article">
<meta property="og:title" content="Sequelize.js 다루기">
<meta property="og:url" content="https://hyunseob.github.io/2016/03/27/usage-of-sequelize-js/index.html">
<meta property="og:site_name" content="DailyEngineering">
<meta property="og:description" content="이 포스트에서 사용한 코드는 ES2015의 문법을 다소 사용하고 있으므로 가급적 Node.js v4(LTS) 이상의 버전을 권장한다.

Node.js는 대개 MongoDB + Mongoose 조합과 함께 사용하는 경우가 많지만 가끔 RDB의 필요성을 느끼기도 한다. 물론 DB에 연결해서 쿼리를 직접 만들어 날려도 되지만, ORM을 사용하면 수 배 이상의 생">
<meta property="og:image" content="https://hyunseob.github.io/images/sequelizejs.png">
<meta property="og:updated_time" content="2017-01-17T15:37:08.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sequelize.js 다루기">
<meta name="twitter:description" content="이 포스트에서 사용한 코드는 ES2015의 문법을 다소 사용하고 있으므로 가급적 Node.js v4(LTS) 이상의 버전을 권장한다.

Node.js는 대개 MongoDB + Mongoose 조합과 함께 사용하는 경우가 많지만 가끔 RDB의 필요성을 느끼기도 한다. 물론 DB에 연결해서 쿼리를 직접 만들어 날려도 되지만, ORM을 사용하면 수 배 이상의 생">
<meta name="twitter:image" content="https://hyunseob.github.io/images/sequelizejs.png">
<meta name="twitter:creator" content="@HyunSeob_"><meta property="article:author" content="https://www.facebook.com/hyunseob.lee.7"><link rel="icon" href="/images/icon.png"><link rel="alternative" href="/atom.xml" type="application/atom+xml" title="DailyEngineering"><meta name="naver-site-verification" content="3ef8fdf091c71d652b72f4fe73b191c2246127f6"><script>(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-72857127-1', 'auto');
ga('send', 'pageview');</script></head><body itemscope itemtype="https://schema.org/WebPage"><nav id="menu" class="menu"><div class="menu-inner"><div class="menu__left-area"><div class="menu__item"><a href="/" title="Home" rel="home" class="menu__item__link menu__item__link--brand"><img src="/images/icon.png" alt="DailyEngineering" class="menu__item__link--brand__image"><span class="menu__item__link--brand__label">DailyEngineering</span></a></div></div><div class="menu__right-area"><div class="menu__item"><a href="/" class="menu__item__link">Home</a></div><div class="menu__item"><a href="/about" class="menu__item__link">About</a></div><div class="menu__item"><a href="/archives" class="menu__item__link">Archives</a></div><div class="menu__item"><a href="/resume" class="menu__item__link">Resume</a></div></div></div></nav><div class="page-background"></div><div class="content-outer"><div itemscope itemtype="https://schema.org/Blog" class="content-inner"><article id="article" itemscope itemtype="https://schema.org/BlogPosting" class="article"><h1 itemprop="headline" class="article__title">Sequelize.js 다루기</h1><div class="article__meta"><time datetime="2016-03-27T14:13:30.000Z" itemprop="datePublished" class="article__meta__time">2016-03-27 23:13:30</time><div class="article__meta__categories"><a href="/categories/Node-js/" class="article__meta__categories__item">Node.js</a></div></div><hr><div class="article__contents"><p>이 포스트에서 사용한 코드는 ES2015의 문법을 다소 사용하고 있으므로 가급적 Node.js v4(LTS) 이상의 버전을 권장한다.</p>
<hr>
<p><img src="/images/sequelizejs.png" alt="Sequelize.js"><br>Node.js는 대개 MongoDB + Mongoose 조합과 함께 사용하는 경우가 많지만 가끔 RDB의 필요성을 느끼기도 한다. 물론 DB에 연결해서 쿼리를 직접 만들어 날려도 되지만, ORM을 사용하면 수 배 이상의 생산성을 가질 수 있을 것이다.</p>
<p><a href="http://docs.sequelizejs.com/en/latest/" target="_blank" rel="external">Sequelize.js</a>는 Node.js 기반의 ORM(Object-Releational-Mapping)이다. 공식적으로 PostgreSQL, MySQL, MariaDB, SQLite, MS-SQL을 지원한다.</p>
<p>Sequelize.js는 npm으로 다음과 같이 쉽게 설치할 수 있다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm install sequelize</div></pre></td></tr></table></figure>
<p>Sequelize는 node 패키지로 <a href="https://github.com/felixge/node-mysql" target="_blank" rel="external">node-mysql</a>을 포함하고 있지 않으므로 node-mysql도 수동으로 설치해주어야 한다.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm install mysql</div></pre></td></tr></table></figure>
<h2 id="연결하기"><a href="#연결하기" class="headerlink" title="연결하기"></a>연결하기</h2><p>설치한 다음에는 다음과 같이 DB에 연결할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> Sequelize = <span class="built_in">require</span>(<span class="string">'sequelize'</span>);</div><div class="line"></div><div class="line"><span class="keyword">const</span> sequelize = <span class="keyword">new</span> Sequelize(</div><div class="line">  <span class="string">'practice'</span>, <span class="comment">// 데이터베이스 이름</span></div><div class="line">  <span class="string">'username'</span>, <span class="comment">// 유저 명</span></div><div class="line">  <span class="string">'password'</span>, <span class="comment">// 비밀번호</span></div><div class="line">  &#123;</div><div class="line">    <span class="string">'host'</span>: <span class="string">'localhost'</span>, <span class="comment">// 데이터베이스 호스트</span></div><div class="line">    <span class="string">'dialect'</span>: <span class="string">'mysql'</span> <span class="comment">// 사용할 데이터베이스 종류</span></div><div class="line">  &#125;</div><div class="line">);</div></pre></td></tr></table></figure>
<p>물론 DB에 연결하기 위해서는 (당연하지만) 사용하려는 DBMS가 설치되어 있어야 하고 해당 이름의 DB와 유저 등이 이미 존재하고 있어야 한다.</p>
<h2 id="모델-만들기"><a href="#모델-만들기" class="headerlink" title="모델 만들기"></a>모델 만들기</h2><p>자바스크립트 객체와 실체 테이블을 매핑하기 위해서는 모델을 정의해야한다. Sequelize에서는 다음과 같이 모델을 정의할 수 있는 메소드를 제공한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">sequelize.define(<span class="string">'Memo'</span>, &#123;</div><div class="line">  <span class="attr">id</span>: &#123;</div><div class="line">    <span class="attr">type</span>: Sequelize.INTEGER,</div><div class="line">    <span class="attr">primaryKey</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">autoIncrement</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">title</span>: &#123;</div><div class="line">    <span class="attr">type</span>: Sequelize.STRING,</div><div class="line">    <span class="attr">allowNull</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">body</span>: &#123;</div><div class="line">    <span class="attr">type</span>: Sequelize.TEXT,</div><div class="line">    <span class="attr">allowNull</span>: <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Sequelize는 모델을 정의하면 편리하게도 <code>createdAt</code>, <code>updatedAt</code> 필드를 자동으로 만들어주며, 테이블에 레코드를 생성할 때, 업데이트 할 때 자동으로 관리해주기도 한다.</p>
<p>아무튼 위와 같이 모델을 정의하면 실제 DB 테이블은 다음과 같은 형태가 된다.</p>
<p><strong>Table: Memo</strong><br>| Field     | Type          | Allow Null | Key |<br>|———–|—————|————|—–|<br>| id        | INT           | false      | PRI |<br>| title     | VARCHAR(255)  | true       | -   |<br>| body      | TEXT          | true       | -   |<br>| createdAt | DATETIME      | false      | -   |<br>| updatedAt | DATETIME      | false      | -   |</p>
<p>Sequelize.js는 보통 RDB에서 사용하게 되는 데이터 타입은 모두 지원한다. <a href="http://docs.sequelizejs.com/en/v3/api/datatypes/" target="_blank" rel="external">이 링크</a>에서 데이터 타입의 목록을 확인할 수 있다.</p>
<h2 id="관계-정의하기"><a href="#관계-정의하기" class="headerlink" title="관계 정의하기"></a>관계 정의하기</h2><p>관계를 정의하기 위해 다음과 같이 모델을 하나 더 정의한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> Label = sequelize.define(<span class="string">'Label'</span>, &#123;</div><div class="line">  <span class="attr">id</span>: &#123;</div><div class="line">    <span class="attr">type</span>: Sequelize.INTEGER,</div><div class="line">    <span class="attr">primaryKey</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">autoIncrement</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">name</span>: &#123;</div><div class="line">    <span class="attr">type</span>: Sequelize.STRING,</div><div class="line">    <span class="attr">allowNull</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">unique</span>: <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Label과 Memo 사이에 N:M 관계를 만들기 위해서 <code>belongsToMany()</code> 라는 메소드를 사용할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.belongsToMany(Label, &#123; <span class="attr">through</span>: <span class="string">'MemoLabel'</span> &#125;);</div><div class="line">Label.belongsToMany(Memo, &#123; <span class="attr">through</span>: <span class="string">'MemoLabel'</span> &#125;);</div></pre></td></tr></table></figure>
<p>이렇게 N:M 관계를 정의하면 흔히 사용하던 것처럼 교차테이블이 생성된다. 교차 테이블의 이름은 위와 같이 <code>through</code>라는 프로퍼티로 정해줄 수 있다. 그러면 실제 DB 테이블은 다음과 같이 생성된다.</p>
<p><strong>Table: MemoLabel</strong><br>| Field     | Type          | Allow Null |  Key    |<br>|———–|—————|————|———|<br>| LabelId   | INTEGER       | false      | PRI     |<br>| MemoId    | INT           | false      | MUL     |<br>| createdAt | DATETIME      | false      | -       |<br>| updatedAt | DATETIME      | false      | -       |</p>
<p>그리고 관계는 다음과 같이 만들어진다.</p>
<p><strong>Relation for table: MemoLabel</strong><br>| Name             | Columns | FK Table | FK Columns | On Update | On Delete |<br>|——————|———|———-|————|———–|———–|<br>| memolabel_ibfk_1 | LabelId | Labels   | id         | CASCADE   | CASCADE   |<br>| memolabel_ibfk_2 | MemoId  | Memos    | id         | CASCADE   | CASCADE   |</p>
<p>이 뿐만 아니라 1:1 관계를 위한 <code>hasOne()</code>, <code>belongsTo()</code>, 1:M 관계를 위한 <code>hasMany()</code> 메소드도 지원한다. 참고로 <code>DELETE</code> 시에 <code>CASCADE</code>되는 것은 N:M 관계일 때 뿐이며, 1:1, 1:M 관계에서는 <code>SET NULL</code>이다. 관계에 대한 자세한 내용은 <a href="http://docs.sequelizejs.com/en/latest/docs/associations/" target="_blank" rel="external">여기</a>를 참조.</p>
<h2 id="레코드-다루기-CRUD"><a href="#레코드-다루기-CRUD" class="headerlink" title="레코드 다루기 (CRUD)"></a>레코드 다루기 (CRUD)</h2><p>Sequelize.js는 기본적인 CRUD 오퍼레이션 외에도 편의를 위한 다양한 기능을 제공한다. 모든 오퍼레이션은 bluebird를 기반으로 한 Promise를 리턴한다.</p>
<h3 id="레코드-만들기"><a href="#레코드-만들기" class="headerlink" title="레코드 만들기"></a>레코드 만들기</h3><p>레코드를 만들려면 정의한 모델의 <code>create()</code> 메소드를 사용하면 된다.<br><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.create(&#123;</div><div class="line">  <span class="attr">title</span>: <span class="string">'Practice of Sequelize.js'</span>,</div><div class="line">  <span class="attr">body</span>: <span class="string">'Sequelize.js is ORM for Node.js.'</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>관계가 있는 모델의 교차테이블에 레코드를 만드는 것은 다음과 같이 시맨틱하게 할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">memo.addLabel(label);</div></pre></td></tr></table></figure>
<p><code>addLabel()</code>은 관계를 정의하면 테이블명을 이용해서 자동적으로 만들어지는 메소드이다. 이 외에도 배열을 추가할 수 있는 <code>addLabels()</code> 메소드와 <code>getLabels()</code>, <code>setLabels()</code> 등이 자동으로 생성된다. 다대다 관계이므로 Label 모델에도 동일하게 <code>addMemo()</code>와 같은 메소드가 생성된다.</p>
<h3 id="레코드-조회하기"><a href="#레코드-조회하기" class="headerlink" title="레코드 조회하기"></a>레코드 조회하기</h3><p>Sequelize.js는 레코드 조회를 위해서 <code>findOne()</code> 혹은 <code>findAll()</code>과 같은 메소드를 제공한다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.findOne(&#123;</div><div class="line">  <span class="attr">where</span>: &#123; <span class="attr">title</span>: <span class="string">'Practice of Sequelize.js'</span> &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">memo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Memo: '</span>, memo.dataValues);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>다만, 이렇게 얻어온 레코드의 실제 값은 <code>dataValues</code>라는 프로퍼티 안에 있으므로 유의해야 한다.<br>또한, 조회 시 사용할 수 있는 여러가지 오퍼레이터가 존재하는데 그 목록은 <a href="http://docs.sequelizejs.com/en/latest/docs/querying/#operators" target="_blank" rel="external">여기</a>서 확인 가능하다.</p>
<p>교차테이블의 레코드를 조회하는 것도 시맨틱하게 할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">memo.getLabels()</div><div class="line">.then(<span class="function">(<span class="params">labels</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Memo\'s Label: '</span>, labels[<span class="number">0</span>].dataValues);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><code>include</code>라는 프로퍼티를 사용하면 조인된 상태의 데이터를 가져오는 것도 가능하다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.findOne(&#123;</div><div class="line">  <span class="attr">where</span>: &#123; <span class="attr">title</span>: <span class="string">'Practice of Sequelize.js'</span> &#125;,</div><div class="line">  <span class="attr">include</span>: &#123; <span class="attr">model</span>: Label &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">memo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Joined Memo: '</span>, memo.dataValues);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><code>findOrCreate()</code> 라는 메소드를 사용하면 조회 후에 없는 값이면 생성하고, 있는 값이면 그 값을 가져오는 형태의 오퍼레이션도 가능하다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.findOrCreate(&#123;</div><div class="line">  <span class="attr">where</span>: &#123; <span class="attr">title</span>: <span class="string">'Mongoose.js'</span> &#125;,</div><div class="line">  <span class="attr">defaults</span>: &#123;</div><div class="line">    <span class="attr">body</span>: <span class="string">'Mongoose.js is ODM for Node.js.'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">.spread(<span class="function">(<span class="params">memo, created</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span> (created) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'New Memo: '</span>, memo.dataValues);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Old Memo: '</span>, memo.dataValues);</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>다만 반환하는 값이 두 가지여서 그런지 <code>then()</code>을 사용하면 안되고 <code>spread()</code>를 사용해야 한다.</p>
<h3 id="레코드-갱신하기"><a href="#레코드-갱신하기" class="headerlink" title="레코드 갱신하기"></a>레코드 갱신하기</h3><p>모델 인스턴스는 업데이트 메소드를 가지고 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.update(&#123;</div><div class="line">  <span class="attr">title</span>: <span class="string">'Updated Memo'</span></div><div class="line">&#125;, &#123;</div><div class="line">  <span class="attr">where</span>: &#123; <span class="attr">id</span>: <span class="number">1</span> &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> Memo.findOne(&#123;</div><div class="line">    <span class="attr">where</span>: &#123; <span class="attr">title</span>: <span class="string">'Updated Memo'</span> &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">memo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Updated Memo: '</span>, memo.dataValues);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>혹은 레코드 자체의 업데이트 메소드를 활용할 수 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">memo.update(&#123; <span class="attr">body</span>: <span class="string">'This memo is updated.'</span> &#125;)</div><div class="line">.then(<span class="function">(<span class="params">memo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Updated Memo2: '</span>, memo.dataValues);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>참고로, Primary Key를 업데이트하는 것은 불가능하다.</p>
<h3 id="레코드-삭제하기"><a href="#레코드-삭제하기" class="headerlink" title="레코드 삭제하기"></a>레코드 삭제하기</h3><p>마찬가지로 모델 인스턴스의 <code>destroy()</code> 메소드를 사용하면 된다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.destroy(&#123;</div><div class="line">  <span class="attr">where</span>: &#123; <span class="attr">title</span>: <span class="string">'Updated Memo'</span> &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> Memo.findOne(&#123; <span class="attr">where</span>: &#123; <span class="attr">title</span>: <span class="string">'Updated Memo'</span> &#125; &#125;);</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">memo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Destroyed Memo? :'</span>, memo); <span class="comment">// null</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>아니면 레코드의 업데이트 메소드를 쓸 수도 있다.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">Memo.findById(<span class="number">2</span>)</div><div class="line">.then(<span class="function">(<span class="params">memo</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> memo.destroy();</div><div class="line">&#125;)</div><div class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'Memo is destroyed.'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="마치며"><a href="#마치며" class="headerlink" title="마치며"></a>마치며</h2><p>이외에도 Node.js ORM은 <a href="http://bookshelfjs.org/" target="_blank" rel="external">bookshelf.js</a>, <a href="http://dresende.github.io/node-orm2/" target="_blank" rel="external">node-orm2</a> 같은 것들이 있다. Sequelize.js는 이 중 GitHub 레포지토리 스타 수도 가장 많고 활성화된 사용자 수가 가장 많은 만큼 앞으로 프로젝트를 새로 시작한다면 가장 선택할만한 ORM일 것이다.</p>
<h2 id="참고링크"><a href="#참고링크" class="headerlink" title="참고링크"></a>참고링크</h2><ul>
<li><a href="http://docs.sequelizejs.com/en/latest/" target="_blank" rel="external">Sequelize.js Docs</a></li>
<li><a href="http://webframeworks.kr/tutorials/expressjs/expressjs_orm_one/" target="_blank" rel="external">ExpressJS에서 Sequelize 사용하기</a>: 이 글보다 훨씬 좋은 글 ㅠ.ㅠ</li>
</ul>
</div><div class="article__tags"><a href="/tags/Node-js/" class="article__tags__item">Node.js</a><a href="/tags/Tutorial/" class="article__tags__item">Tutorial</a><a href="/tags/Sequelize-js/" class="article__tags__item">Sequelize.js</a><a href="/tags/ORM/" class="article__tags__item">ORM</a></div><div itemscope itemprop="author" itemtype="https://schema.org/Person" class="article__author"><img src="/images/avatar.jpg" alt="HyunSeob" class="article__author__image"><a href="/resume" title="About HyunSeob" rel="author" class="article__author__link">HyunSeob</a><p class="article__author__desc">JavaScript 모지리</p><div class="article__author__socials"><a href="https://github.com/hyunseob" title="github" target="_blank" class="article__author__socials__item"><i class="fa fa-github"></i></a><a href="https://www.facebook.com/hyunseob.lee.7" title="facebook" target="_blank" class="article__author__socials__item"><i class="fa fa-facebook"></i></a><a href="https://www.linkedin.com/in/hyunseoblee" title="linkedin" target="_blank" class="article__author__socials__item"><i class="fa fa-linkedin"></i></a><a href="https://www.instagram.com/hyunseob_lee/" title="instagram" target="_blank" class="article__author__socials__item"><i class="fa fa-instagram"></i></a><a href="https://twitter.com/HyunSeob_" title="twitter" target="_blank" class="article__author__socials__item"><i class="fa fa-twitter"></i></a><a href="/atom.xml" title="rss" target="_blank" class="article__author__socials__item"><i class="fa fa-rss"></i></a></div><meta itemprop="name" content="HyunSeob"></div><div id="sharer" class="sharer"><div class="sharer-inner"><div class="sharer__right"><button id="sharer-facebook" class="sharer__item"><i class="fa fa-facebook-official"></i></button><button id="sharer-twitter" class="sharer__item"><i class="fa fa-twitter"></i></button><button id="sharer-pinterest" class="sharer__item"><i class="fa fa-pinterest"></i></button><button id="sharer-pocket" class="sharer__item"><i class="fa fa-get-pocket"></i></button></div></div></div><!-- Disqus Code--><div id="disqus_thread"></div><script>(function() {
  var d = document, s = d.createElement('script');
  s.src = '//dailyengineering.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();</script><noscript>Enable JavaScript to see comments.</noscript><!-- Meta Tags for Structured Data--><meta itemprop="dateModified" content="2017-01-17T15:37:08.000Z"><meta itemprop="articleBody" content="이 포스트에서 사용한 코드는 ES2015의 문법을 다소 사용하고 있으므로 가급적 Node.js v4(LTS) 이상의 버전을 권장한다.

Node.js는 대개 MongoDB + Mongoose 조합과 함께 사용하는 경우가 많지만 가끔 RDB의 필요성을 느끼기도 한다. 물론 DB에 연결해서 쿼리를 직접 만들어 날려도 되지만, ORM을 사용하면 수 배..."><meta itemprop="url" content="https://hyunseob.github.io/2016/03/27/usage-of-sequelize-js/"><meta itemprop="mainEntityOfPage" content="https://hyunseob.github.io/2016/03/27/usage-of-sequelize-js/"><div itemscope itemtype="https://schema.org/Organization" itemprop="publisher"><meta itemprop="name" content="DailyEngineering"><div itemscope itemprop="logo" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://hyunseob.github.io/images/icon.png"></div></div><div itemscope itemtype="https://schema.org/ImageObject" itemprop="image"><meta itemprop="contentUrl" content="https://hyunseob.github.io/images/default.jpg"><meta itemprop="url" content="https://hyunseob.github.io/images/default.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720"></div></article><section class="related-posts"><h3>Related posts</h3><div class="related-posts__item__wrapper"><a href="/2016/05/09/assert-nodejs-test-module/" class="related-posts__item"><div style="background-image: url('/images/assert-nodejs-test-module.jpg')" class="related-posts__item__background"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Assert: Node.js 테스트 모듈</span></a></div><div class="related-posts__item__wrapper"><a href="/2016/03/14/javascript-promise/" class="related-posts__item"><div style="background-image: url('/images/default.jpg')" class="related-posts__item__background"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">JavaScript Promise</span></a></div><div class="related-posts__item__wrapper"><a href="/2016/02/23/start-hexo/" class="related-posts__item"><div style="background-image: url('/images/default.jpg')" class="related-posts__item__background"></div><div class="related-posts__item__overlay"></div><span class="related-posts__item__title">Hexo 시작하기</span></a></div></section></div></div><footer id="footer"><div class="widgets"><div class="widgets-inner"><!-- Jade doesn't support dynamic inclusion with `each`.--><!-- So, I just hard coded the file names that will be included.--><div class="widgets__item"><h3 class="widgets__item__heading">Recent posts</h3><ul class="recent-posts"><li class="recent-posts__item"><a href="/2017/01/14/typescript-generic/">TypeScript: 제네릭(Generic)</a></li><li class="recent-posts__item"><a href="/2017/01/09/solved-by-flexbox/">Flexbox 활용사례 모음: Solved by Flexbox</a></li><li class="recent-posts__item"><a href="/2016/12/10/a-look-back-on-blog-in-2016/">2016년 블로그 운영 회고</a></li><li class="recent-posts__item"><a href="/2016/12/05/book-functional-thinking/">[책] 함수형 사고</a></li><li class="recent-posts__item"><a href="/2016/11/21/misunderstanding-about-const/">const에 대한 오해</a></li></ul></div><div class="widgets__item"><h3 class="widgets__item__heading">Tag cloud</h3><div class="tag-cloud"><a href="/tags/Angular2/" style="font-size: 0.75rem;">Angular2</a> <a href="/tags/AngularJS/" style="font-size: 1.2rem;">AngularJS</a> <a href="/tags/Attitude/" style="font-size: 0.75rem;">Attitude</a> <a href="/tags/Blog/" style="font-size: 0.9rem;">Blog</a> <a href="/tags/Build/" style="font-size: 0.75rem;">Build</a> <a href="/tags/CSS/" style="font-size: 0.75rem;">CSS</a> <a href="/tags/Closure/" style="font-size: 0.9rem;">Closure</a> <a href="/tags/CoffeeScript/" style="font-size: 0.9rem;">CoffeeScript</a> <a href="/tags/ComputerScience/" style="font-size: 0.75rem;">ComputerScience</a> <a href="/tags/DOM/" style="font-size: 0.9rem;">DOM</a> <a href="/tags/DesignPattern/" style="font-size: 0.75rem;">DesignPattern</a> <a href="/tags/Deview/" style="font-size: 0.75rem;">Deview</a> <a href="/tags/ES2015/" style="font-size: 1.2rem;">ES2015</a> <a href="/tags/ESLint/" style="font-size: 0.75rem;">ESLint</a> <a href="/tags/Electron/" style="font-size: 0.75rem;">Electron</a> <a href="/tags/Functional/" style="font-size: 0.75rem;">Functional</a> <a href="/tags/GraphQL/" style="font-size: 0.75rem;">GraphQL</a> <a href="/tags/Hexo/" style="font-size: 0.75rem;">Hexo</a> <a href="/tags/JavaScript/" style="font-size: 1.5rem;">JavaScript</a> <a href="/tags/Log/" style="font-size: 0.9rem;">Log</a> <a href="/tags/Node-js/" style="font-size: 1.05rem;">Node.js</a> <a href="/tags/ORM/" style="font-size: 0.75rem;">ORM</a> <a href="/tags/Opinion/" style="font-size: 0.75rem;">Opinion</a> <a href="/tags/Promise/" style="font-size: 0.75rem;">Promise</a> <a href="/tags/Q-js/" style="font-size: 0.75rem;">Q.js</a> <a href="/tags/React/" style="font-size: 0.75rem;">React</a> <a href="/tags/ReactiveX/" style="font-size: 0.75rem;">ReactiveX</a> <a href="/tags/RxJS/" style="font-size: 0.75rem;">RxJS</a> <a href="/tags/Sequelize-js/" style="font-size: 0.75rem;">Sequelize.js</a> <a href="/tags/Terminology/" style="font-size: 0.75rem;">Terminology</a> <a href="/tags/Testing/" style="font-size: 0.75rem;">Testing</a> <a href="/tags/Translate/" style="font-size: 1.2rem;">Translate</a> <a href="/tags/Tutorial/" style="font-size: 1.2rem;">Tutorial</a> <a href="/tags/TypeScript/" style="font-size: 1.35rem;">TypeScript</a> <a href="/tags/babel/" style="font-size: 0.75rem;">babel</a> <a href="/tags/jQuery/" style="font-size: 1.05rem;">jQuery</a> <a href="/tags/lodash/" style="font-size: 0.9rem;">lodash</a> <a href="/tags/underscore-js/" style="font-size: 1.05rem;">underscore.js</a> <a href="/tags/webpack/" style="font-size: 0.75rem;">webpack</a></div></div><div class="widgets__item"><h3 class="widgets__item__heading">Categories</h3><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Book/">Book</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ComputerScience/">ComputerScience</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/AngularJS/">AngularJS</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/Basic/">Basic</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/DesignPattern/">DesignPattern</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/ES2015/">ES2015</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/RxJS/">RxJS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/TypeScript/">TypeScript</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/lodash-underscore/">lodash/underscore</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Log/">Log</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Opinion/">Opinion</a><span class="category-list-count">2</span></li></ul></div></div></div><p class="copyright"><small>© 2017 HyunSeob<br>Powered by <a href="https://hexo.io" rel="external" target="_blank">Hexo</a>, Theme by <a href="https://github.com/hyunseob" rel="external" target="_blank">HyunSeob</a></small></p></footer><!--[if lt IE 10]><script src="/js/classList.min.js"></script><![endif]--><script src="/js/index.min.js"></script></body></html>